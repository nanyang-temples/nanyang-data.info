---
import { Icon } from "astro-icon";

import Layout from "@layouts/Page.astro";
import Button from "@components/ui/Button.astro";
import Container from "@components/ui/Container.astro";

import heroImage from "@img/nanyang-sites.400x400.png?url";
import * as content from "@content/home-page.md";

import { datasets } from "@datasets";
---

<Layout>
  <Container>
    <section>
      <div class="hero-section__text">
        <h1>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
            ><path
              fill="currentColor"
              d="M256 32A224 224 0 0 0 99.596 95.68l11.12-2.66l38.24-13.41l44.198-8.44l17.383 17.38l27.81-15.892l32.778.498l5.96 7.946l48.17-10.43l73.005 22.35l-33.77 13.904l8.442 34.763l-16.885 10.925l-10.43-52.144l-22.844 1.987l-3.476 25.824l-23.838 9.933l2.48 33.77l-14.897 2.484l-10.926-19.37l-5.463 15.397l12.416 22.844l-39.73 40.725l-3.973 12.414l6.457 17.878s-15.892 23.343-18.375 22.846c-2.484-.495-44.698-37.743-44.698-37.743l-26.32 15.395l-20.86-31.288l-18.375 1.49l-24.83 69.032l-17.88 4.967l-38.454-52.088A224 224 0 0 0 256 480a224 224 0 0 0 224-224A224 224 0 0 0 256 32zm75.217 112.67l9.93 15.394l-14.897 22.348l-2.484 15.893l-7.946-4.967h1.49l4.47-42.213l9.437-6.455zm-18.873 56.117l11.422 1.49l-.993 11.422l-29.796 5.462l-.995-7.945l20.362-10.43zm-39.233 26.818l14.9 4.47l-2.483 21.355l-17.382-12.416l4.966-13.41zm-9.434 45.69l2.482 18.87H245.3l-.993-13.407l19.37-5.463zm39.728 3.476l33.772 8.94l16.885 20.858l-45.193-11.918l-11.918 4.965l-19.866-21.85l26.32-.994zM198.12 289.685l27.316 8.443l33.77 17.38s-20.86 4.47-23.84 3.477c-2.98-.993-43.702-19.37-43.702-19.37l6.457-9.93zm116.21 10.43l10.43 24.83l22.347 13.906l-4.966 34.763l-25.326 23.342l-26.322-21.355l-27.314 8.94l-19.367 13.903L230.9 369.64s8.442-26.82 10.428-27.812l19.37-5.96l8.443-19.366l7.448 12.912l25.326-6.457l12.416-22.844zm86.91 49.66l4.965 2.484l-10.926 15.396l-3.475-8.94l9.435-8.94zm-11.422 19.867s6.456 4.47 4.47 5.96c-1.987 1.49-27.81 19.367-27.81 19.367l-10.927-5.463l23.343-17.38l10.925-2.483zm-82.44 32.28l12.415.498l-10.428 9.932l-1.988-10.43z"
            ></path></svg
          >
          Nanyang Sites GIS Data
        </h1>
        <Fragment set:html={content.compiledContent()} />
        <div class="hero-btns__container">
          <Button href="/explore" customIcon>
            Explore
            <Fragment slot="icon">
              <Icon name="ic:baseline-chevron-right" />
            </Fragment>
          </Button>
          <Button href="/about" unelevated>More Info</Button>
        </div>
      </div>

      <div class="hero-section__image">
        <picture>
          <img src={heroImage} alt="Nanyang Sites GIS Data" loading="lazy" />
        </picture>
      </div>
    </section>
    <div>
      <h3>Our Datasets:</h3>
      <ul>
        {
          Object.entries(datasets).map(([id, dataset]) => {
            return (
              <li>
                <a href={`datasets/${id}`}>{dataset.projectName}</a>
                <br />
                {dataset.description}
              </li>
            );
          })
        }
      </ul>
    </div>
  </Container>
</Layout>

<style>
  section {
    align-items: center;
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr 400px;
  }

  .hero-btns__container {
    align-items: center;
    display: flex;
    gap: 1rem;
  }

  .hero-btns__container {
    margin-right: 1rem;
  }

  .hero-section__image {
    display: flex;
    justify-content: flex-end;
  }

  .hero-section__image img {
    width: 100%;
    height: 100%;
    max-height: 80vh;
    object-fit: cover;
    border-radius: var(--theme-shape-radius);
  }

  h1 > svg {
    height: 4rem;
    vertical-align: top;
    color: var(--theme-primary);
    filter: brightness(0.5);
  }

  @media (max-width: 768px) {
    section {
      grid-template-columns: 1fr;
    }
  }
</style>
