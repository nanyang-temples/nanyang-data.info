import{s,b as m,g as p,p as y,a as g,i as b,c as u}from"./map-search.-k0KZ0vd.js";import"./hoisted.CCTaHM_H.js";const h=["../data/01-buddhist_temples_taiwan/by-latlong.json","../data/02-religious_sites_jinshan_shimen/by-latlong.json","../data/01-temples_in_bangkok_mb/by-latlong.json","../data/01-SGPchineseAssociations/by-latlong.json","../data/02-SGPtemples/by-latlong.json","../data/03-keramatShrines/by-latlong.json","../data/01-temples_in_bintan_mb/by-latlong.json","../data/02-franke_indonesia/by-latlong.json","../data/01-temples_luangPrabang_ps/by-latlong.json","../data/01-franke_malaysia/by-latlong.json"],l=["cadetblue","chocolate","rebeccapurple","green","crimson","darkgoldenrod","hotpink","dodgerblue","lightseagreen","#bb85ab"],i=document.createElement("style");l.forEach((e,t)=>i.textContent+=`.leaflet-control-layers-overlays label:nth-of-type(${t+1}) {accent-color: ${e};}
.pill-${t} {background-color: ${e};}
`);document.body.appendChild(i);const a=L.map("map",{minZoom:4,maxZoom:18});s.addTo(a);a.setView([8,110],5);const o=document.getElementById("map");o.style.setProperty("--attribution-height",o.querySelector(".leaflet-control-attribution").offsetHeight+"px");o.appendChild(m());const r=await Promise.all(h.map(async e=>await p(e))),_=r.reduce((e,t)=>e+Object.keys(t.records).length,0);document.querySelector("#map .loading").innerHTML=`${_.toLocaleString()} sites loaded!<span>âœ…</span>`;window.requestAnimationFrame(()=>setTimeout(()=>{document.querySelector("#map .loading").style.transition="opacity 500ms ease",document.querySelector("#map .loading").style.opacity=0,window.requestAnimationFrame(()=>setTimeout(()=>{document.querySelector("#map .loading").remove()},500))},500));const c={};window.sites={};r.forEach((e,t)=>{const[d,n]=y(e,t,l[t]);c[e.projectName]=n,a.addLayer(n),Object.assign(window.sites,d)});L.control.layers({"Street Map":s,Satellite:g},c,{collapsed:!1}).addTo(a);b(sites,a,u);
